# Master Lovable Infinity - Regras do projeto

## Estrutura e organização (obrigatório)

- **Raiz limpa:** Na raiz ficam apenas configuração (package.json, firebase.json, .firebaserc, .gitignore, .cursorrules) e README. Nada na raiz sem necessidade.
- **Sem duplicação:** Uma única fonte para cada coisa. Não criar arquivos duplicados (ex.: build.bat na raiz e em scripts; popup na raiz e em extension). Extensão em **extension/**, admin em **admin/**, scripts/ferramentas em **scripts/**, documentação em **docs/**.
- **Build:** O único script de build é **scripts/build.bat** (chama npm run build, que usa scripts/build.js). Não criar build na raiz.
- Seguir sempre **docs/ESTRUTURA_E_REGRAS_DO_PROJETO.md** para estrutura e regras de trabalho.

## Deploy automático (produção)
- O projeto está em **produção**. O **agente (IA) deve sempre executar o deploy** após alterações relevantes — nunca apenas sugerir; o deploy não pode "cair" para o usuário.
- **API (Vercel):** Se alterou algo em `api/` ou `vercel.json`, executar: `npx vercel --prod` (na raiz do projeto).
- **Admin / extensão (Firebase):** Se alterou admin, extensão, firebase-config, styles, etc., executar: `firebase deploy --only hosting` (na raiz do projeto).
- Se alterou ambos no mesmo fluxo, executar os dois deploys.
- Comando Firebase: `firebase deploy --only hosting`
- Comando Vercel: `npx vercel --prod`
